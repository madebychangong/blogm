#!/usr/bin/env python3
"""
Gemini APIë¥¼ ì‚¬ìš©í•œ ìì—°ìŠ¤ëŸ¬ìš´ ë¸”ë¡œê·¸ ì›ê³  ì¬êµ¬ì„±
- ì–´ìƒ‰í•œ ê¸°ê³„ì  ì¹˜í™˜ì„ ì™„ì „íˆ ë‹¤ì‹œ ì“°ê¸°
- ê¸ˆì¹™ì–´ íšŒí”¼
- ì‚¬ëŒì´ ì“´ ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ½ê²Œ
"""

import os
import google.generativeai as genai
from typing import Optional


class AIRewriter:
    """Gemini APIë¥¼ ì‚¬ìš©í•œ ì›ê³  ì™„ì „ ì¬êµ¬ì„±"""

    def __init__(self, api_key: Optional[str] = None):
        """
        ì´ˆê¸°í™”

        Args:
            api_key: Gemini API í‚¤ (ì—†ìœ¼ë©´ í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEY ì‚¬ìš©)
        """
        self.api_key = api_key or os.getenv('GEMINI_API_KEY')

        if not self.api_key:
            raise ValueError(
                "Gemini API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤. "
                "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•˜ê±°ë‚˜ api_key íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ì„¸ìš”."
            )

        # Gemini ì„¤ì •
        genai.configure(api_key=self.api_key)
        self.model = genai.GenerativeModel('gemini-pro')

    def create_prompt(self, text: str, keyword: str) -> str:
        """ì¬êµ¬ì„± í”„ë¡¬í”„íŠ¸ ìƒì„± - ì™„ì „íˆ ë‹¤ì‹œ ì“°ê¸°!"""

        # ê¸ˆì¹™ì–´ ë¦¬ìŠ¤íŠ¸
        forbidden_words = [
            "ë„¤ìš”", "ê°€ê²©", "ê´‘ê³ ", "êµ¬ë§¤", "ë³‘ì›", "ì§„ë‹¨", "íš¨ê³¼", "ì•½íš¨",
            "ìƒë‹´", "ì‹œìˆ ", "ì˜ì‚¬", "í™˜ì", "íŒë§¤", "íˆ¬ì", "í›„íšŒ",
            "ë³´í—˜", "ì¬ë°œ", "ëŒ€ì¶œ", "ë¹„ìš©", "ì˜ë¬¸", "ì˜ì‹¬",
            "ì‚°ë¶€ì¸ê³¼", "ë¶€ì‘ìš©", "í™ë³´ì„±", "ì˜êµ¬ì‹¬", "ì¦ìƒ", "ì¦.ìƒ"
        ]

        prompt = f"""ë‹¹ì‹ ì€ ë¸”ë¡œê·¸ ê¸€ì„ ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ì‹œ ì“°ëŠ” ì „ë¬¸ ì‘ê°€ì…ë‹ˆë‹¤.

âš ï¸ **ë§¤ìš° ì¤‘ìš”:**
ì•„ë˜ ì…ë ¥ëœ ì›ê³ ëŠ” **ê¸°ê³„ì ìœ¼ë¡œ ë‹¨ì–´ë§Œ ì¹˜í™˜í•´ì„œ ì—‰ë§ì…ë‹ˆë‹¤.**
ì ˆëŒ€ ê·¸ëŒ€ë¡œ ì“°ì§€ ë§ê³ , **ì˜ë¯¸ë§Œ íŒŒì•…í•´ì„œ ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±í•˜ì„¸ìš”!**

# ì…ë ¥ (ê¸°ê³„ ì¹˜í™˜ìœ¼ë¡œ ì–´ìƒ‰í•¨)
í‚¤ì›Œë“œ: {keyword}

ì–´ìƒ‰í•œ ì›ê³ :
{text}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# ğŸ¯ ë‹¹ì‹ ì˜ ì„ë¬´: ìœ„ ì›ê³ ë¥¼ **ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±**

## âŒ ì ˆëŒ€ ì´ë ‡ê²Œ ì“°ì§€ ë§ˆì„¸ìš”!

ì…ë ¥ ì›ê³ ì˜ ì–´ìƒ‰í•œ í‘œí˜„ì„ **ì ˆëŒ€ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì§€ ë§ˆì„¸ìš”:**

**BAD ì˜ˆì‹œ (ê¸°ê³„ì  ì¹˜í™˜ - ì ˆëŒ€ ê¸ˆì§€!):**
```
âŒ "ì´ê±° ê·¸ëŸ° ëª¨ìŠµì´ ì‹œì‘ëœ ì§€ 6ê°œì›”"
   â†’ "ê·¸ëŸ° ëª¨ìŠµ"ì´ ë­”ê°€ìš”? ì™„ì „ ì–´ìƒ‰í•¨!

âŒ "ë”±íˆ í° ê°œì„ ëŠ” ëª» ë´¤ì–´ìš”"
   â†’ "ê°œì„ ëŠ”"? ì¡°ì‚¬ ì˜¤ë¥˜!

âŒ "ê°œì„ ê°€ ìˆì„ì§€ ëª» ë¯¿ê² ê³ ë„ ë“¤ê³ "
   â†’ "ê°œì„ ê°€", "ëª» ë¯¿ê² ê³ ë„"? ë§ì´ ì•ˆ ë¨!

âŒ "í´ë¦¬ë‹‰ì—ì„œ í˜¸ë¥´ëª¬ ì¹˜ë£Œ ì•ˆë‚´ë„ ë°›ì•„ë´¤ëŠ”ë°"
   â†’ ì™œ "ì•ˆë‚´"? ë¶€ìì—°ìŠ¤ëŸ¬ì›€!

âŒ "ë¶€.ì‘ìš©ì´ ë¬´ì„œì›Œì„œ"
   â†’ ì (.) ì™œ ë“¤ì–´ê°€ ìˆìŒ?

âŒ "ê²½ë¹„ì´ ë¶€ë‹´ë¼ì„œ"
   â†’ "ê²½ë¹„ì´"? ì¡°ì‚¬ í‹€ë¦¼!

âŒ "ê·¸ëŸ° ëª¨ìŠµ ì™„í™”ì— ì¢‹ì€"
   â†’ "ê·¸ëŸ° ëª¨ìŠµ ì™„í™”"? ì´ìƒí•¨!
```

**â†’ ì´ëŸ° í‘œí˜„ë“¤ì„ ë°œê²¬í•˜ë©´ ë¬¸ì¥ ì „ì²´ë¥¼ ì™„ì „íˆ ë‹¤ì‹œ ì“°ì„¸ìš”!**

## âœ… ì˜¬ë°”ë¥¸ ì ‘ê·¼: ì˜ë¯¸ë§Œ ë³´ê³  ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±

**GOOD ì˜ˆì‹œ (ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ì‹œ ì“°ê¸°):**
```
ì…ë ¥: "ì´ê±° ê·¸ëŸ° ëª¨ìŠµì´ ì‹œì‘ëœ ì§€ 6ê°œì›”"
ì¶œë ¥: "ì´ëŸ° ì¦ì„¸ê°€ ë‚˜íƒ€ë‚œ ì§€ 6ê°œì›”" âœ“
ì¶œë ¥: "ì´ëŸ° ëŠë‚Œì´ ì‹œì‘ëœ ì§€ 6ê°œì›”" âœ“

ì…ë ¥: "ë”±íˆ í° ê°œì„ ëŠ” ëª» ë´¤ì–´ìš”"
ì¶œë ¥: "ë”±íˆ í° ë„ì›€ì€ ëª» ë°›ì•˜ì–´ìš”" âœ“
ì¶œë ¥: "ë³„ë¡œ ë‚˜ì•„ì§€ì§€ ì•Šì•˜ì–´ìš”" âœ“

ì…ë ¥: "ê±´ê°•ê¸°ëŠ¥ì‹í’ˆì´ ì •ë§ ê°œì„ ê°€ ìˆì„ì§€ ëª» ë¯¿ê² ê³ ë„ ë“¤ê³ "
ì¶œë ¥: "ê±´ê°•ê¸°ëŠ¥ì‹í’ˆì´ ì •ë§ ë„ì›€ì´ ë ì§€ ë¯¿ê¸° ì–´ë µê¸°ë„ í•˜ê³ " âœ“
ì¶œë ¥: "ê±´ê°•ê¸°ëŠ¥ì‹í’ˆì´ íš¨ê³¼ê°€ ìˆì„ê¹Œ ì˜ì‹¬ìŠ¤ëŸ½ê¸°ë„ í•˜ê³ " âœ“

ì…ë ¥: "í´ë¦¬ë‹‰ì—ì„œ í˜¸ë¥´ëª¬ ì¹˜ë£Œ ì•ˆë‚´ë„ ë°›ì•„ë´¤ëŠ”ë°"
ì¶œë ¥: "ë³‘ì›ì—ì„œ í˜¸ë¥´ëª¬ ì¹˜ë£Œ ìƒë‹´ë°›ì•„ë´¤ëŠ”ë°" âœ“

ì…ë ¥: "ë¶€.ì‘ìš©ì´ ë¬´ì„œì›Œì„œ"
ì¶œë ¥: "ì•ˆ ì¢‹ì€ ë°˜ì‘ì´ ë¬´ì„œì›Œì„œ" âœ“
ì¶œë ¥: "ë¶€ì‘ìš©ì´ ê±±ì •ë˜ì–´ì„œ" âœ“

ì…ë ¥: "ê²½ë¹„ì´ ë¶€ë‹´ë¼ì„œ"
ì¶œë ¥: "ê°€ê²©ì´ ë¶€ë‹´ë˜ì–´ì„œ" âœ“
ì¶œë ¥: "ëˆì´ ë§ì´ ë“¤ì–´ì„œ" âœ“

ì…ë ¥: "ê·¸ëŸ° ëª¨ìŠµ ì™„í™”ì— ì¢‹ì€"
ì¶œë ¥: "ì¦ì„¸ ì™„í™”ì— ì¢‹ì€" âœ“
ì¶œë ¥: "ê°œì„ ì— ë„ì›€ë˜ëŠ”" âœ“
```

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# ğŸ“‹ ì‘ì„± ê·œì¹™

## 1. ê¸ˆì¹™ì–´ ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€
âŒ **ì ˆëŒ€ ì“°ë©´ ì•ˆ ë˜ëŠ” ë‹¨ì–´:** {', '.join(forbidden_words)}

ì´ ë‹¨ì–´ë“¤ì´ ì›ê³ ì— ìˆìœ¼ë©´ ë°˜ë“œì‹œ ë°”ê¾¸ì„¸ìš”:
- "ì¦ìƒ/ì¦.ìƒ" â†’ "ì¦ì„¸", "ì´ëŸ° ëŠë‚Œ", "ëª¸ ìƒíƒœ"
- "íš¨ê³¼/ì•½íš¨" â†’ "ë„ì›€", "ê°œì„ ", "ë‚˜ì•„ì§"
- "ë¶€ì‘ìš©/ë¶€.ì‘ìš©" â†’ "ì•ˆ ì¢‹ì€ ë°˜ì‘", "ê±±ì •ë˜ëŠ” ì "
- "ë¹„ìš©/ê²½ë¹„" â†’ "ê°€ê²©", "ê¸ˆì•¡", "ëˆ"
- "ì˜êµ¬ì‹¬/ì˜ì‹¬" â†’ "ë¯¿ê¸° ì–´ë ¤ì›Œ", "í™•ì‹ ì´ ì•ˆ ì„œ"
- "ì‚°ë¶€ì¸ê³¼" â†’ "ë³‘ì›", "ì—¬ì„± ì „ë¬¸ ë³‘ì›"
- "í™ë³´ì„±" â†’ "ê´‘ê³  ê°™ì€"

## 2. ì¡°ì‚¬ ì˜¤ë¥˜ ì ˆëŒ€ ê¸ˆì§€
**ë°›ì¹¨ ê·œì¹™ ë°˜ë“œì‹œ ì§€í‚¤ê¸°:**
- ë°›ì¹¨ ìˆìŒ (ê¸ˆì•¡, ë„ì›€, ë³‘ì›): ~ì´, ~ì€, ~ì„
- ë°›ì¹¨ ì—†ìŒ (ë‚˜, ê°œì„ , ê±°): ~ê°€, ~ëŠ”, ~ë¥¼

âŒ ì˜ëª»ëœ ì˜ˆ: "ê°œì„ ëŠ”", "ê°œì„ ê°€", "ê²½ë¹„ì´", "ê¶ê¸ˆí•˜ë‹¤ë„"
âœ… ì˜¬ë°”ë¥¸ ì˜ˆ: "ê°œì„ ì€", "ê°œì„ ì´", "ê¸ˆì•¡ì´", "ê¶ê¸ˆí•œë°ë„"

## 3. ì (.) í‘œí˜„ ì œê±°
"ë¶€.ì‘ìš©", "ì¦.ìƒ" ê°™ì€ í‘œí˜„ ë°œê²¬ ì‹œ ì™„ì „íˆ ìì—°ìŠ¤ëŸ½ê²Œ ë°”ê¾¸ê¸°

## 4. ë¬¸ë§¥ì— ë§ê²Œ ë‹¤ì‹œ ì“°ê¸°
**í•µì‹¬:** ë‹¨ì–´ë§Œ ë°”ê¾¸ì§€ ë§ê³  ë¬¸ì¥ ì „ì²´ë¥¼ ë‹¤ì‹œ êµ¬ì„±

ì˜ˆì‹œ:
- "ê·¸ëŸ° ëª¨ìŠµì´ ì‹œì‘ëœ" â†’ ë¬¸ë§¥ ë³´ê³  "ì¦ì„¸ê°€ ë‚˜íƒ€ë‚œ" / "ëŠë‚Œì´ ì‹œì‘ëœ"
- "í° ê°œì„ ëŠ”" â†’ "í° ë„ì›€ì€" / "ë§ì´ ë‚˜ì•„ì§€ì§€"
- "ì•ˆë‚´ë„ ë°›ì•„ë´¤ëŠ”ë°" â†’ "ìƒë‹´ë°›ì•„ë´¤ëŠ”ë°" / "ì–˜ê¸° ë“¤ì–´ë´¤ëŠ”ë°"

## 5. ìì—°ìŠ¤ëŸ¬ìš´ ë¸”ë¡œê·¸ ë§íˆ¬
âœ… **êµ¬ì–´ì²´:**
- ~ë”ë¼ê³ ìš”, ~ê±°ë“ ìš”, ~ë˜ë°ìš”, ~ì–ì•„ìš”
- "ì†”ì§íˆ", "ì§„ì§œ", "ì •ë§", "ê·¼ë°", "ê·¸ë˜ì„œ"

âœ… **ë‹¤ì–‘í•œ ì¢…ê²°ì–´ë¯¸:**
- ~ì–´ìš” (30%) / ~ë”ë¼ê³ ìš” (20%) / ~ê±°ë“ ìš” (15%)
- ~ì£  (10%) / ~ë˜ë°ìš” (10%) / ~ìŠµë‹ˆë‹¤ (5%)
- "~ìš”"ë§Œ ë°˜ë³µ ê¸ˆì§€!

âœ… **ê²½í—˜ë‹´ì²˜ëŸ¼:**
- "ì €ëŠ” ~ì¸ë°", "ì œ ê²½ìš°ì—”"
- "í˜ë“¤ì–´ì„œ", "ê³ ë¯¼ë¼ì„œ", "ë‹µë‹µí•´ì„œ"

## 6. í‚¤ì›Œë“œ ìœ ì§€
- í‚¤ì›Œë“œ "{keyword}"ëŠ” ì •í™•íˆ 2-3íšŒë§Œ
- í‚¤ì›Œë“œ ë’¤ ì¡°ì‚¬ ë¶™ì´ì§€ ì•Šê¸°
- ë‚˜ë¨¸ì§€ëŠ” "ì´ê±°", "ì´ëŸ° ê±°" ë“±ìœ¼ë¡œ

## 7. ì›ë³¸ ì˜ë¯¸ ìœ ì§€
- í•µì‹¬ ë‚´ìš©ê³¼ ê²½í—˜ë‹´ì€ ê·¸ëŒ€ë¡œ
- ê¸¸ì´ ë¹„ìŠ·í•˜ê²Œ (Â±100ì)
- ë‹¨ë½ êµ¬ì¡° ìœ ì§€

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# ğŸ¯ ìµœì¢… ì²´í¬ (ì¶œë ¥ ì „ ë°˜ë“œì‹œ í™•ì¸!)

1. âœ… ê¸ˆì¹™ì–´ ì‚¬ìš© ì•ˆ í•¨ ({', '.join(forbidden_words[:10])}... ë“±)
2. âœ… ì¡°ì‚¬ ì˜¤ë¥˜ ì—†ìŒ ("~ì´/ê°€", "~ì€/ëŠ”", "~ì„/ë¥¼" ì •í™•)
3. âœ… ì–´ìƒ‰í•œ í‘œí˜„ ì™„ì „íˆ ë‹¤ì‹œ ì”€ ("ê·¸ëŸ° ëª¨ìŠµ" ê°™ì€ ê±° ì—†ìŒ)
4. âœ… ì (.) í‘œí˜„ ì œê±°ë¨
5. âœ… ì‚¬ëŒì´ ì“´ ê²ƒì²˜ëŸ¼ ìì—°ìŠ¤ëŸ¬ì›€
6. âœ… í‚¤ì›Œë“œ 2-3íšŒ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

# ì¶œë ¥
ì¬êµ¬ì„±ëœ ì›ê³ ë§Œ ì¶œë ¥í•˜ì„¸ìš”. ì„¤ëª…ì´ë‚˜ ì£¼ì„ ì—†ì´ ì›ê³ ë§Œ.
"""
        return prompt

    def rewrite(self, text: str, keyword: str) -> str:
        """
        ì›ê³ ë¥¼ ì™„ì „íˆ ìƒˆë¡œ ì‘ì„±

        Args:
            text: ê¸°ê³„ ì¹˜í™˜ëœ ì–´ìƒ‰í•œ ì›ê³ 
            keyword: í‚¤ì›Œë“œ

        Returns:
            ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ì‹œ ì“´ ì›ê³ 
        """
        try:
            prompt = self.create_prompt(text, keyword)
            response = self.model.generate_content(prompt)

            if response.text:
                return response.text.strip()
            else:
                print("âš ï¸ AI ì¬êµ¬ì„± ì‹¤íŒ¨: ì‘ë‹µ ì—†ìŒ")
                return text

        except Exception as e:
            print(f"âš ï¸ AI ì¬êµ¬ì„± ì˜¤ë¥˜: {e}")
            return text


def test_rewriter():
    """í…ŒìŠ¤íŠ¸"""

    # API í‚¤ í™•ì¸
    api_key = os.getenv('GEMINI_API_KEY')
    if not api_key:
        print("âŒ GEMINI_API_KEY í™˜ê²½ë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”.")
        print("   export GEMINI_API_KEY='your-api-key'")
        return

    rewriter = AIRewriter()

    # í…ŒìŠ¤íŠ¸: ì–´ìƒ‰í•œ ê¸°ê³„ ì¹˜í™˜ ì›ê³ 
    test_text = """ê°±ë…„ê¸°í™ì¡° ë•Œë¬¸ì— ì§„ì§œ ì¼ìƒìƒí™œì´ í˜ë“¤ì–´ì„œ ê¸€ ì˜¬ë ¤ë´…ë‹ˆë‹¤.
ì´ê±° ê·¸ëŸ° ëª¨ìŠµì´ ì‹œì‘ëœ ì§€ ë²Œì¨ 6ê°œì›”ì´ ë„˜ì—ˆëŠ”ë°,
ì²˜ìŒì—” ê·¸ëƒ¥ í”¼ë¡œ ë•Œë¬¸ì´ë¼ê³  ìƒê°í–ˆì–´ìš”.

í´ë¦¬ë‹‰ì—ì„œ í˜¸ë¥´ëª¬ ì¹˜ë£Œ ì•ˆë‚´ë„ ë°›ì•„ë´¤ëŠ”ë°,
ì•” ìœ„í—˜ ê°™ì€ ë¶€.ì‘ìš©ì´ ë¬´ì„œì›Œì„œ ì„ ëœ» ì‹œì‘ì„ ëª»í•˜ê² ì–´ìš”.
ì„ë¥˜ì¦™ì´ë‚˜ ì¹¡ì¦™ì´ ê°±ë…„ê¸°ì— ì¢‹ë‹¤ê³  í•´ì„œ ê¾¸ì¤€íˆ ë¨¹ì–´ë´¤ì§€ë§Œ,
ë”±íˆ í° ê°œì„ ëŠ” ëª» ë´¤ì–´ìš”.
ë¹„ì‹¼ í•œì•½ë„ ë¨¹ì–´ë´¤ëŠ”ë° ê¸ˆì•¡ì´ ë¶€ë‹´ë¼ì„œ ì¤‘ë‹¨í–ˆê³ ìš”.

ê±´ê°•ê¸°ëŠ¥ì‹í’ˆì´ ì •ë§ ê°œì„ ê°€ ìˆì„ì§€ ëª» ë¯¿ê² ê³ ë„ ë“¤ê³ ,
ì¸í„°ë„·ì—” ì†Œê°œì„± í›„ê¸°ë“¤ì´ ë§ì•„ì„œ ë­˜ ë¯¿ì–´ì•¼ í• ì§€ ëª¨ë¥´ê² ë”ë¼ê³ ìš”.

ê°±ë…„ê¸°í™ì¡° ë§ê³ ë„ ê°±ë…„ê¸° ê·¸ëŸ° ëª¨ìŠµ ì™„í™”ì— ì¢‹ì€ ë‹¤ë¥¸ ë°©ë²•ì´ë‚˜,
ì œê°€ ëª¨ë¥´ëŠ” ë” ë‚˜ì€ ì œí’ˆë“¤ì´ ìˆë‹¤ë©´ ì¶”ì²œí•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤."""

    keyword = "ê°±ë…„ê¸°í™ì¡°"

    print("=" * 80)
    print("AI ì™„ì „ ì¬êµ¬ì„± í…ŒìŠ¤íŠ¸")
    print("=" * 80)
    print(f"\ní‚¤ì›Œë“œ: {keyword}")
    print(f"\n[ì…ë ¥] ì–´ìƒ‰í•œ ê¸°ê³„ ì¹˜í™˜ ì›ê³ :")
    print(test_text)
    print("\nì–´ìƒ‰í•œ í‘œí˜„:")
    print("  - 'ê·¸ëŸ° ëª¨ìŠµì´ ì‹œì‘ëœ' âŒ")
    print("  - 'ê°œì„ ëŠ” ëª» ë´¤ì–´ìš”' âŒ")
    print("  - 'ê°œì„ ê°€ ìˆì„ì§€' âŒ")
    print("  - 'ëª» ë¯¿ê² ê³ ë„ ë“¤ê³ ' âŒ")
    print("  - 'ë¶€.ì‘ìš©' âŒ")
    print("  - 'ê·¸ëŸ° ëª¨ìŠµ ì™„í™”ì—' âŒ")

    print(f"\nğŸ¤– AIê°€ ì™„ì „íˆ ë‹¤ì‹œ ì“°ëŠ” ì¤‘...")
    result = rewriter.rewrite(test_text, keyword)

    print(f"\n[ì¶œë ¥] ìì—°ìŠ¤ëŸ½ê²Œ ë‹¤ì‹œ ì“´ ì›ê³ :")
    print("=" * 80)
    print(result)
    print("=" * 80)

    # ê²€ì¦
    print(f"\nâœ… ê²€ì¦:")

    # ê¸ˆì¹™ì–´ í™•ì¸
    forbidden_check = ["ë„¤ìš”", "íš¨ê³¼", "ì•½íš¨", "ì¦ìƒ", "ë¶€ì‘ìš©", "ì˜êµ¬ì‹¬"]
    forbidden_found = False
    for word in forbidden_check:
        if word in result:
            print(f"  âŒ ê¸ˆì¹™ì–´ '{word}' ë°œê²¬ë¨!")
            forbidden_found = True

    if not forbidden_found:
        print(f"  âœ… ê¸ˆì¹™ì–´ ì—†ìŒ")

    # ì–´ìƒ‰í•œ í‘œí˜„ í™•ì¸
    awkward_patterns = [
        "ê·¸ëŸ° ëª¨ìŠµ", "ê°œì„ ëŠ”", "ê°œì„ ê°€", "ëª» ë¯¿ê² ê³ ë„",
        "ë¶€.ì‘ìš©", "ì¦.ìƒ", "ê²½ë¹„ì´"
    ]
    awkward_found = False
    for pattern in awkward_patterns:
        if pattern in result:
            print(f"  âŒ ì–´ìƒ‰í•œ í‘œí˜„ '{pattern}' ì—¬ì „íˆ ìˆìŒ!")
            awkward_found = True

    if not awkward_found:
        print(f"  âœ… ì–´ìƒ‰í•œ í‘œí˜„ ëª¨ë‘ ìˆ˜ì •ë¨")

    # í‚¤ì›Œë“œ ì¶œí˜„ í™•ì¸
    count = result.count(keyword)
    print(f"  í‚¤ì›Œë“œ ì¶œí˜„: {count}íšŒ (ëª©í‘œ: 2-3íšŒ)")


if __name__ == '__main__':
    test_rewriter()
